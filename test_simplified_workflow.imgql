// Simplified version of the workflow - just the nnUNet part
print "starting_simplified_workflow" "Testing simplified workflow..."

// Use concatenated paths like in the original
let data_dir = "/tmp/nnunet_synthetic_data"
let images_dir = data_dir + "/images"
let labels_dir = data_dir + "/labels"

print "paths_concatenated" "Path concatenation completed"

// nnUNet configuration
let dataset_name = "synthetic_squares_20cases"
let modalities = "T1"
let work_dir = "/tmp/nnunet_synthetic_workspace"

print "config_set" "Configuration set"

// Call nnUNet training directly
print "calling_nnunet" "Calling nnUNet training..."

let trained_model = nnunet.train_directory(images_dir, labels_dir, modalities, work_dir, 1, dataset_name)

print "training_completed" "Training completed"
print "trained_model_result" trained_model
